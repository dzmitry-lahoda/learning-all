-----------------------


Возможно не помиилпеуется.
Проблема в том что этот C++ код не использует фреймфорка с уборщиком мусора.
Или что используются классы вместо струтур  - зависит от того как классы будуи юзаться - из кода не скажешь.
Названия классво плохи - не выражют из смысла.
Видмо нужно delete[].
Используются [] напрямую а не абстрации.
Используется С++ вместо С - может тут вообще объекты не нужны.
Поля клсаао имеют одинаковые(и бессымеленный навения) названия.
Нудно не main писать а FooBarTests.FooAndBarCreated_destyed_allOK.
Видимо *f=*b берёт содержимое памяти под Bar и пишет на него болmший кусок памяти Bar - портит память.
Второй Delete  попытвает удалить что то сначалаю.


--
Я буду использовать 2 тулзы - профайлер и анализаторв кода.
Анализатором кода найду самый некрасивый кусок.
Посмотрю профайлером - есть ли этот кусок среди медленных.

Введу слой абстракции между куском и его клиентами.
В абстрации и в куске внесу нужные изменения.

---

он должен быть отсортирован
иметь random access


--

CodeGeneratorFactory.GetCodeGenerator("Java")
CodeGeneratorFactory.RegisterCodeGenerator(CodeGeneratorBase codeGenerator)

JavaCodeGenerator
PHPCodeGenerator 

позволяет рабоать разным людям над разными генераторами
добалвять и удалять генераторы пол желанию динамичсеик (если это не надо - можно откзатьс от сктрое и сделать Switch в factory)
